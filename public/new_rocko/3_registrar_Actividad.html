<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./style_3_Reg_Act.css">
    <title>Registrar actividad</title>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@7.12.15/dist/sweetalert2.all.min.js"></script>
</head>

<body>

    <div class="container">
        <div class="seccion-banner">
            <div class="img-banner">
                <img src="./img/logo_banner.jpg" width="250" height="60" alt="Emtelco SAS">
            </div>
            <div class="title-banner">
                <span>Rocko - Administrador de actividades </span>
            </div>
            <div class="seccion-btns-sup">
                <input class="boton-sup" type="submit" onclick="window.location.href='./3_registrar_Actividad.html'"
                    value="Registrar actividad">
                <input class="boton-sup" type="submit" onclick="window.location.href='./4_crear_Actividades.html'"
                    value="Crear actividad">
                <input class="boton-sup" type="submit" onclick="window.location.href='./5_transf_Actividades.html'"
                    value="Transferir actividades">
                <input class="boton-sup" type="submit" onclick="window.location.href='./6_revisar_Datos.html'"
                    value="Revisar datos">
            </div>
            <div class="seccion-perfil" onclick="window.location.href='./2_pag_principal.html'">
                <label for="perfil" onclick="window.location.href='./2_pag_principal.html'">Perfil</label>
            </div>
            <div class="cerrar-sesion">
                <label href="/logout">Cerrar sesión</label>
            </div>
        </div>
        <div class="seccion-titulo-inicial">
            <h2>Información general</h2>
        </div>
        <div class="seccion-datos">
            <!--
            <div class="seccion-tabla"><!--Tabla principal con botones de clientes--><!--
                <table class="tabla-registrar-act" id="tbl_registrar_act">
                    <thead>
                        <tr>
                            <th scope="col" width="100px">Hora ANS</th>
                            <th scope="col">Cliente</th>
                        </tr>
                    </thead>
                    <tbody id="registrarActividad"></tbody>
                    
                    <tr>
                        <td>14:59</td>
                        <td class="botones-tabl">
                            <button onclick="mostrar();">Emtelco</button>
                            <button id="open">prueba</button>
                            <tbody id="prueba_btn"></tbody>
                            <!--prueba botón--> <!--
                        </td>
                        <!--href con n cantidad de clientes--> <!--
                    </tr>
                </table>
            </div>-->

            <!------------PRUEBA NUEVA TABLA POR JS--------------------->
            <div class="seccion_tabla">
                <table class="tabla-registrar-act" id="tbl_registrar_act">
                    <thead class="tb_regAct_head">
                        <tr class="tb_regAct_row">
                            <th class="hora_ans" scope="col" width="100px">Hora ANS</th>
                            <th class="nombre_cliente"scope="col" >Cliente</th>
                        </tr>
                    </thead>
                    <tbody class="regAct_body" id="registrarActividad"></tbody>
                </table>
            </div>

            <div class="seccion-btnsYfiltro">
                <div class="seccion-btns-der">
                    <input class="btn-todos" type="submit" value="Todos">
                    <input class="btn-ajenos" type="submit" value="Ajenos">
                    <input class="btn-propios" type="submit" value="Propios">
                    <input class="btn-noRealizados" type="submit" value="No realizados">
                    <input class="btn-realizados" type="submit" value="Realizados">
                </div>
                <div class="seccion-filtro">
                    <label>Filtrar por cliente:</label>
                    <form action="select">
                        <select name="opc-cliente" id="opc-cliente">
                            <option selected disabled>Seleccione uno</option>
                        </select>
                    </form>
                </div>
            </div>
            <!--modal información de la actividad------------------------------------------------------>
            <div class="modal_info_act" id="modal_info_act">
                <div class="modal-info">
                    <div class="sec-titulo-lupa">
                        <h2>Información de la actividad</h2>
                        <img src="./img/icono4.jpeg" alt="lupa" width="40">
                    </div>
                    <div class="sec-info-indv">
                        <div class="sec-btns-act">
                            <input class="btn-observaciones" type="submit" value="Observaciones" id="abrir_obs"
                                onclick="abrirObsr();">
                            <input class="btn-editar-inf" type="submit" value="Editar informe" id="edit_informe"
                                onclick="editarInforme();">
                            <input class="btn-marcar-re" type="submit" value="Marcar como realizado">
                        </div>
                        <div class="sec-tabla-info">
                            <table class="tabla-inf-act" id="tbl_info_actividad">
                                <tr>
                                    <th>Cliente</th>
                                    <td>EDEQ</td>
                                </tr>
                                <tr>
                                    <th>Nombre de la actividad</th>
                                    <td>Informe de gestión EDEQ</td>
                                </tr>
                                <tr>
                                    <th>Tiempo de ejecución</th>
                                    <td>15</td>
                                </tr>
                                <tr>
                                    <th>Hora ANS</th>
                                    <td>10:00</td>
                                </tr>
                                <tr>
                                    <th>Frecuencia</th>
                                    <td>Diario</td>
                                </tr>
                                <tr>
                                    <th>Responsable</th>
                                    <td>ccastri</td>
                                </tr>
                                <tr>
                                    <th>Backup</th>
                                    <td>ccastri</td>
                                </tr>
                                <tr>
                                    <th>Realizado</th>
                                    <td>Si</td>
                                </tr>
                                <tr>
                                    <th>Observación</th>
                                    <td>observación aquí</td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    
                    <div class="boton-modal">
                        <button class="btn-modal" id="close">Confirmar</button>
                    </div>
                    
                </div>
            </div>
            <!--modal observación------------------------------------------------------>
            <div class="modal_hacer_obsr" id="modal_hacer_obsr">
                <div class="modal-obser">
                    <div class="sec-titulo-obser">
                        <h2>Hacer una observación</h2>
                        <img src="./img/icono2.jpeg" alt="lupa" width="40">
                    </div>
                    <div class="sec-filtro-obs">
                        <label>Elija una observación:</label>
                        <form action="select">
                            <select name="observacion" id="observacion">
                                <option selected disabled>Seleccione uno</option>
                                <option value="inconvenientes">Inconvenientes con la máquina</option>
                                <option value="falla-ro">Fallas con Rocko</option>
                                <option value="falla-pla">Fallas con Plataformas</option>
                                <option value="lentitud">Lentitud en plataformas o aplicativos</option>
                                <option value="insumos-error">Insumos con información errada</option>
                                <option value="no-insumos">Sin insumos de las áreas de apoyo</option>
                                <option value="mod-insumos">Modificación en los insumos</option>
                                <option value="reunion">En Reunión con la operación</option>
                                <option value="ent-vaca">En entrega de vacaciones</option>
                                <option value="apoyo">Apoyo backUp</option>
                                <option value="prioridad-repo">Solicitan darle prioridad a otro reporte </option>
                                <option value="no-espacio">Sin espacio en la ruta</option>
                                <option value="a-tiempo">Se publica a tiempo, no se marca en Rocko</option>
                            </select>
                        </form>
                    </div>
                    <button class="btn-guardar-obser" id="guardar_obs">Guardar</button>
                </div>
            </div>

            <!--modal editar informe------------------------------------------------------>
            <div class="modal_edit_inf" id="modal_edit_inf">
                <div class="modal-editar">
                    <div class="sec-titulo-edit">
                        <h2>Editar informe</h2>
                        <img src="./img/icono3.png" alt="lapiz" width="40">
                    </div>
                    <div class="sec-datos-editar">
                        <section class="container-formulario-edit">
                            <div class="form-group-edit">
                                <label for="cliente">Cliente</label>
                                <form action="select">
                                    <select name="opc-cliente" id="opc-cliente">
                                        <option selected disabled>Seleccione uno</option>
                                    </select>
                                </form>
                            </div>
            
                            <div class="form-group-edit">
                                <label for="frecuencia">Frecuencia</label>
                                <form action="select">
                                    <select name="opc-frecuencia" id="opc-frecuencia">
                                        <option selected disabled>Seleccione uno</option>
                                    </select>
                                </form>
                            </div>
            
                            <div class="form-group-edit">
                                <label for="nombre">Nombre</label>
                                <input type="text" placeholder="prueba" id="nombre">
                            </div>
                            <div class="form-group-edit">
                                <label for="duracion_min">Duración en minutos</label>
                                <input type="text" placeholder="prueba" id="duracion">
                            </div>
                            <div class="form-group-edit">
                                <label for="hora_ans">Hora ANS</label>
                                <input type="text" placeholder="prueba" id="hora_ans">
                            </div>
                            <div class="form-group-edit">
                                <label for="dia_ans">Día ANS</label>
                                <input type="text" placeholder="prueba" id="dia_ans">
                            </div>
                            <div class="form-group-edit">
                                <label for="analista_respal">Analista de respaldo</label>
                                <form action="select">
                                    <select name="opc-analistaResp" id="opc-analistaResp">
                                        <option selected disabled>Seleccione uno</option>
                                    </select>
                                </form>
                            </div>
            
                        </section>
                    </div>
                    <button class="btn-guardar-edit" id="guardar_edit">Guardar</button>
                </div>
            </div>

        </div>
    </div>


</body>

<script>
    // ----- script prueba exito----
    function mostrar() {
        swal("Exito!", "Actividades transferidas satisfactoriamente.", "success");
    }
    // ------script del modal información de la actividad------
    /*
    const open = document.getElementById('open');
    const modal_info_act = document.getElementById('modal_info_act');
    const close = document.getElementById('close');

    open.addEventListener('click', () => {
        modal_info_act.classList.add('show');
    });

    close.addEventListener('click', () => {
        modal_info_act.classList.remove('show');
    });

    // ------srcipt del modal de hacer una observación-------
    const abrir_obs = document.getElementById('abrir_obs');
    const modal_hacer_obsr = document.getElementById('modal_hacer_obsr');
    const guardar_obs = document.getElementById('guardar_obs');

    abrir_obs.addEventListener('click', () => {
        modal_hacer_obsr.classList.add('show');
    });

    abrir_obs.addEventListener('click', () => {
        modal_info_act.classList.remove('show');
    });

    guardar_obs.addEventListener('click', () => {
        modal_hacer_obsr.classList.remove('show');
    });
    guardar_obs.addEventListener('click', () => {
        modal_info_act.classList.add('show');
    });
    
    // ------srcipt del modal de editar informe-------
    const edit_informe = document.getElementById('edit_informe');
    const modal_edit_inf = document.getElementById('modal_edit_inf');
    const guardar_edit = document.getElementById('guardar_edit');

    edit_informe.addEventListener('click', () => {
        modal_edit_inf.classList.add('show');
    });

    edit_informe.addEventListener('click', () => {
        modal_info_act.classList.remove('show');
    });

    guardar_edit.addEventListener('click', () => {
        modal_edit_inf.classList.remove('show');
    });
    guardar_edit.addEventListener('click', () => {
        modal_info_act.classList.add('show');
    });

    /*NOTA:vamos a traer cada hora, y por cada hora, cada cliente (cuando la hora coincida, aparece el cliente)
        luego los registros por cada cliente. "for log de clientes se juntan los 3href"*/
    

    //-----------PRUEBA PARA LLENAR LA TABLA-----------
    const secTabla = document.querySelector("div.seccion_tabla")
    let tableHeaders = document.getElementsByClassName("hora_ans","nombre_cliente");

    const crearTablaRegistroAC = () =>{
        while (secTabla.firstChild) secTabla.removeChild(secTabla.firstChild) // borra todos los children en secTabla, en caso de que hayan 

        let tablaRegistrarAct = document.createElement("table") //crea la tabla como tal
        tablaRegistrarAct.className = 'tabla-registrar-act'

        let tbRegActHead = document.createElement("thead") //crea el grupo de head
        tbRegActHead.className ='tb_regAct_head'

        let tbRegActRow = document.createElement("tr") // crea el row que tendrá los headers
        tbRegActHead.className = 'tb_regAct_row'

        tableHeaders.forEach(header => {
            let tablaHeader = document.createElement("th")
            tablaHeader.innerText = header
            tbRegActRow.append(tablaHeader)
        });

        tbRegActHead.append(tbRegActRow)
        tablaRegistrarAct.append(tbRegActHead)

        let tbRegActBody = document.createElement("tbody")
        tbRegActBody.className = "regAct_body"
        tablaRegistrarAct.append(tbRegActBody)

        crearTablaRegistroAC.append(tablaRegistrarAct)

    };

</script>

</html>